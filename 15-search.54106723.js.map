{"mappings":"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","sources":["src/js/15-search.js","src/js/pixabay.js","src/js/markup.js","src/js/notiflix.js"],"sourcesContent":["const body = document.querySelector(\"body\");\nconst form = document.querySelector(\"form\");\n\n//\nimport { fetchHints } from \"./pixabay\";\nimport{markupCard} from \"./markup\";\nimport {success, warning, info, error, loading, reLoading} from \"./notiflix\";\n\n\nconst btnLoad = document.querySelector(\".loading\");\n\n\nlet gallery = document.querySelector(\".gallery\")\n\nlet page = 1;\nlet searchQuery =\"\";\nlet maxPages;\n\nbtnLoad.style.display = 'none';\n\nform.addEventListener(\"submit\", handleSub);\nbtnLoad.addEventListener('click', handleClick);\n\nasync function handleSub(event) {\n    event.preventDefault();\n\n    gallery.innerHTML ='';\n    page = 1;\n\n    searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n    loading();\n    \n    try {\n        const {hits, totalHits} = await fetchHints(searchQuery, page);\n        reLoading();\n\n        maxPages = Math.ceil (totalHits / 40);\n\n        if (searchQuery === '' || totalHits ===0) {\n            btnLoad.style.display = 'none';\n            return warning()\n        }\n\n        btnLoad.style.display =\"block\";\n        success(totalHits);\n\n        gallery.insertAdjacentHTML('beforeend', markupCard(hits));\n\n        if (page >= maxPages) {\n            btnLoad.style.display =\"none\";\n            info()\n        }\n    } catch (error) {\n        error(error.message)\n    }\n    \n}\n\n\nasync function handleClick(event) {\n    event.preventDefault();\n    page+=1;\n    loading();\n    try {\n        const {hits} = await fetchHints(searchQuery, page);\n        reLoading();\n        if (page >= maxPages) {\n            btnLoad.style.display ='none';\n            info()\n        }\n        gallery.insertAdjacentHTML('beforeend', markupCard(hits))\n    } catch (error) {\n        error(error.message)\n    }\n}","import axios from \"axios\";\n\nexport async function fetchHints(query=\"\", page=\"\") {\n    const apiUrl = \"https://pixabay.com/api/?\";\n    const params = new URLSearchParams({\n        key: \"41264181-83fac7734f961e185fe372492\",\n        q: query,\n        image_type: \"photo\",\n        orientation: 'horizontal',\n        safesearch: true,\n        page: page,\n        per_page: 40,\n        \n    });\n    return await axios.get(`${apiUrl}&${params}`).then(response => {return response.data});\n}","export function markupCard(params) {\n    return params\n    .map(\n        ({\n            largeImageURL,\n            webformatURL,\n            tags,\n            likes ,\n            views ,\n            comments ,\n            downloads \n        }) => `\n        <div class=\"photo-card\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"310px\"/>\n          <div class=\"info\">\n            <p class=\"info-item\">\n              <b>Likes</b><br>\n              <b>${likes}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Views</b><br>\n              <b>${views}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Comments</b><br>\n              <b>${comments}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads</b><br>\n              <b>${downloads}</b>\n            </p>\n          </div>\n       </div>\n        `\n    ).join(\"\");\n}","import Notiflix from 'notiflix'\n\nconst success = params => {\n    return Notiflix.Notify.success(`Hooray! We found totalHits images.`)\n};\n\nconst warning = () => {\n    return Notiflix.Notify.failure(`Sorry, there are no images matching your search query. Please try again`)\n};\n\nconst info = () => {\n    return Notiflix.Notify.info(`We're sorry, but you've reached the end of search results.`)\n};\n\nconst error = (error) => {\n    return Notiflix.Notify.failure(error)\n};\n\nconst loading = () => {\n    return Notiflix.Loading.arrows(`Please wait. We need some seconds...`)\n};\n\nconst reLoading = () => {\n    return Notiflix.Loading.remove()\n};\n\nexport {success, warning, info, error, loading, reLoading}"],"names":["$bpxeT","parcelRequire","$bde98182df25f2a0$export$28f45446fd700320","$bde98182df25f2a0$var$_fetchHints","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","query","page","apiUrl","params","_args","length","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","$dIxxU","default","get","concat","then","response","data","$1457a8b41868a85b$export$7c6f20cf2792bee5","map","param","largeImageURL","webformatURL","tags","likes","views","comments","downloads","join","$2c7604de6342f763$var$maxPages","$ejkSG","$2be77d58da86eeeb$export$fe7c49d056ea1d88","Notify","success","$2be77d58da86eeeb$export$491112666e282270","failure","$2be77d58da86eeeb$export$a80b3bd66acc52ff","info","$2be77d58da86eeeb$export$46c1c92549715335","Loading","arrows","$2be77d58da86eeeb$export$e0b6bff41558691b","remove","$2c7604de6342f763$var$form","document","querySelector","$2c7604de6342f763$var$btnLoad","$2c7604de6342f763$var$gallery","$2c7604de6342f763$var$page","$2c7604de6342f763$var$searchQuery","$2c7604de6342f763$var$_handleSub","event","ref","hits","totalHits","preventDefault","innerHTML","currentTarget","elements","searchQuery","value","trim","_ctx","sent","Math","ceil","style","display","insertAdjacentHTML","t0","message","$2c7604de6342f763$var$_handleClick","addEventListener"],"version":3,"file":"15-search.54106723.js.map"}